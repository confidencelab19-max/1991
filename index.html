<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>자신있나 - 남성 헬스케어 플랫폼</title>
    
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <!-- 3. React Libraries (Correct UMD Versions) -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- 4. Babel Standalone -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 5. Lucide Icons (Correct UMD Path) -->
    <script src="https://unpkg.com/lucide-react@0.292.0/dist/umd/lucide-react.min.js"></script>

    <style>
      body { font-family: 'Noto Sans KR', sans-serif; }
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      
      @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
      .animate-fade-in { animation: fade-in 0.5s ease-out; }
      
      @keyframes slide-up { from { transform: translateY(100%); } to { transform: translateY(0); } }
      .animate-slide-up { animation: slide-up 0.3s ease-out; }
      
      @keyframes fade-in-down { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in-down { animation: fade-in-down 0.3s ease-out; }

      #root { min-height: 100vh; }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "lucide-react": "https://esm.sh/lucide-react@^0.562.0",
    "vite": "https://esm.sh/vite@^7.3.1",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2"
  }
}
</script>
</head>
<body class="bg-slate-50 text-slate-800 antialiased">
    <!-- Loading State -->
    <div id="root" class="flex items-center justify-center min-h-screen text-slate-400">
        <div class="text-center">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
            <p>앱을 불러오는 중입니다...</p>
        </div>
    </div>

    <script type="text/babel">
        // --- SAFE SETUP ---
        const { useState, useEffect, useMemo } = React;
        
        // 아이콘 안전 로딩 (window.lucideReact가 없을 경우를 대비한 Fallback)
        const L = window.lucideReact || {};
        const Icon = ({ name, ...props }) => {
            const IconComp = L[name];
            return IconComp ? <IconComp {...props} /> : <span className="text-xs text-red-300">[{name}]</span>;
        };
        
        // --- 1. DATA & CONSTANTS ---
        const ViewState = {
            HOME: 'HOME',
            HOSPITALS: 'HOSPITALS',
            COMMUNITY: 'COMMUNITY',
            DEALS: 'DEALS',
            LOGIN: 'LOGIN'
        };

        const CATEGORIES = ['전체', '남성확대', '조루/발기부전', '포경/정관', '전립선/성병', '여유증'];

        const MOCK_HOSPITALS = [
            { id: 'h1', name: '맨파워 비뇨기과 강남점', location: '서울 강남구', rating: 4.8, reviewCount: 1240, categories: ['남성확대', '조루/발기부전'], isPremium: true, imageUrl: 'https://picsum.photos/400/300?random=1', openTime: '09:00 - 19:00', description: '대학병원 교수 출신 의료진, 1:1 프라이빗 대기실 완비.' },
            { id: 'h2', name: '자이언트 남성의원', location: '서울 서초구', rating: 4.6, reviewCount: 850, categories: ['남성확대', '여유증'], isPremium: true, imageUrl: 'https://picsum.photos/400/300?random=2', openTime: '10:00 - 20:00', description: '3D 입체 분석을 통한 맞춤형 수술 설계.' },
            { id: 'h3', name: '굿닥터 전립선 센터', location: '경기 분당구', rating: 4.9, reviewCount: 520, categories: ['전립선/성병', '포경/정관'], isPremium: false, imageUrl: 'https://picsum.photos/400/300?random=3', openTime: '09:00 - 18:00', description: '통증 적은 무도 정관수술 전문.' },
            { id: 'h4', name: '하이맨 비뇨의학과', location: '부산 해운대구', rating: 4.5, reviewCount: 320, categories: ['조루/발기부전', '남성확대'], isPremium: false, imageUrl: 'https://picsum.photos/400/300?random=4', openTime: '09:30 - 19:30', description: '최신 체외충격파 장비 보유, 비수술 치료 우선.' },
            { id: 'h5', name: '스탠다드 비뇨기과', location: '서울 마포구', rating: 4.7, reviewCount: 150, categories: ['포경/정관', '전립선/성병'], isPremium: true, imageUrl: 'https://picsum.photos/400/300?random=5', openTime: '09:00 - 21:00 (야간진료)', description: '직장인을 위한 평일 야간 진료 시행 중.' }
        ];

        const MOCK_REVIEWS = [
            { id: 'r1', userId: 'user123', hospitalName: '맨파워 비뇨기과 강남점', treatment: '진피 확대술', rating: 5, content: '수술 전 고민이 많았는데 원장님이 정말 친절하게 상담해주셨습니다. 회복 기간도 생각보다 짧았고 결과도 만족스럽네요.', date: '2023.10.25', isVerified: true, likeCount: 45 },
            { id: 'r2', userId: 'confidenceUp', hospitalName: '자이언트 남성의원', treatment: '여유증 수술', rating: 4, content: '여름에 티셔츠 한 장 입기 꺼려졌는데 이제 당당하게 입습니다. 멍은 좀 들었지만 2주 지나니 괜찮아졌어요.', date: '2023.10.20', isVerified: true, likeCount: 23 },
            { id: 'r3', userId: 'newMan', hospitalName: '맨파워 비뇨기과 강남점', treatment: '조루 수술', rating: 5, content: '확실히 시간이 늘어났습니다. 파트너도 만족해하니 진작 할 걸 그랬다는 생각이 듭니다.', date: '2023.10.15', isVerified: true, likeCount: 88 }
        ];

        const MOCK_DEALS = [
            { id: 'd1', hospitalName: '맨파워 비뇨기과', title: '프리미엄 복합 확대술 (진피+필러) 선착순 특가', originalPrice: 3500000, discountPrice: 2490000, discountRate: 29, endDate: '2023-11-30', limitCount: 5, tags: ['확대', 'BEST'] },
            { id: 'd2', hospitalName: '자이언트 남성의원', title: '무도 정관수술 + 통증케어 패키지', originalPrice: 300000, discountPrice: 150000, discountRate: 50, endDate: '2023-11-15', tags: ['정관', '통증케어'] },
            { id: 'd3', hospitalName: '굿닥터 전립선 센터', title: '전립선 종합 정밀검진 (초음파 포함)', originalPrice: 150000, discountPrice: 89000, discountRate: 40, endDate: '2023-11-20', tags: ['검진', '효도선물'] }
        ];

        const MOCK_POSTS_INITIAL = [
            { id: 'p1', type: 'REVIEW', title: '강남 쪽 3군데 상담 다녀온 솔직 후기 (비용 공개)', author: '발품왕', content: 'A병원, B병원, C병원 다녀왔는데 가격 차이가 꽤 나네요.', date: '1시간 전', views: 1204, comments: 32, isVerifiedUser: true },
            { id: 'p2', type: 'QNA', title: '수술 후 3일차인데 붓기가 이정도면 정상인가요?', author: '걱정인형', content: '사진 첨부합니다. 너무 부은 것 같은데 병원 가봐야 할까요?', date: '3시간 전', views: 450, comments: 12, isVerifiedUser: false },
            { id: 'p3', type: 'FREE', title: '나이가 드니 전립선 건강이 걱정되네요 영양제 추천좀', author: '건강제일', content: '쏘팔메토 말고 효과 보신 거 있으신가요?', date: '5시간 전', views: 210, comments: 8, isVerifiedUser: true }
        ];

        // --- 2. COMPONENTS ---

        // Hospital Card Component
        const HospitalCard = ({ hospital }) => (
            <div className="group bg-white rounded-3xl border border-slate-100 overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer">
                <div className="relative aspect-[16/9] bg-slate-200 overflow-hidden">
                    <img src={hospital.imageUrl} alt={hospital.name} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />
                    <div className="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-60"></div>
                    {hospital.isPremium && (
                        <div className="absolute top-4 left-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-[10px] font-black px-2.5 py-1 rounded-full shadow-lg uppercase tracking-wider">
                            Premium
                        </div>
                    )}
                    <div className="absolute bottom-4 left-4 text-white">
                        <h3 className="text-xl font-bold mb-1 shadow-black/10 drop-shadow-md">{hospital.name}</h3>
                        <div className="flex items-center gap-1 text-sm font-medium text-slate-200">
                            <Icon name="MapPin" size={14} />
                            <span>{hospital.location}</span>
                        </div>
                    </div>
                    <div className="absolute bottom-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1.5 rounded-xl flex items-center gap-1.5 shadow-lg">
                        <Icon name="Star" size={14} className="text-yellow-400 fill-yellow-400" />
                        <span className="font-black text-slate-900 text-sm">{hospital.rating}</span>
                        <span className="text-slate-400 text-xs font-medium">({hospital.reviewCount})</span>
                    </div>
                </div>
                <div className="p-5">
                    <div className="flex flex-wrap gap-2 mb-4">
                        {hospital.categories.map((cat, idx) => (
                            <span key={idx} className="bg-slate-50 text-slate-600 text-xs font-bold px-2.5 py-1.5 rounded-lg border border-slate-100">{cat}</span>
                        ))}
                    </div>
                    <div className="flex items-start gap-3">
                        <div className="mt-1 min-w-[16px]"><Icon name="Clock" size={16} className="text-slate-400" /></div>
                        <div>
                            <p className="text-sm font-medium text-slate-800 mb-2">{hospital.openTime}</p>
                            <p className="text-sm text-slate-500 leading-relaxed">{hospital.description}</p>
                        </div>
                    </div>
                </div>
            </div>
        );

        // Layout
        const Layout = ({ children, currentView, setView }) => {
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 20);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const handleNav = (view) => {
                setView(view);
                setIsMobileMenuOpen(false);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            return (
                <div className="min-h-screen flex flex-col font-sans bg-slate-50 text-slate-800">
                    <header className={`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${scrolled ? 'bg-white/80 backdrop-blur-md shadow-sm border-b border-slate-100/50' : 'bg-transparent'}`}>
                        <div className="max-w-4xl mx-auto px-5 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2 cursor-pointer group" onClick={() => handleNav(ViewState.HOME)}>
                                <div className="bg-blue-600 text-white p-1.5 rounded-lg">
                                    <Icon name="ShieldCheck" className="w-6 h-6" />
                                </div>
                                <span className={`text-xl font-black tracking-tighter ${scrolled || currentView !== ViewState.HOME ? 'text-slate-900' : 'text-slate-900'}`}>자신있나</span>
                            </div>
                            <nav className="hidden md:flex gap-1 items-center font-medium">
                                <button onClick={() => handleNav(ViewState.HOSPITALS)} className="px-4 py-2 text-sm text-slate-600 hover:text-slate-900">병원찾기</button>
                                <button onClick={() => handleNav(ViewState.COMMUNITY)} className="px-4 py-2 text-sm text-slate-600 hover:text-slate-900">커뮤니티</button>
                                <button onClick={() => handleNav(ViewState.DEALS)} className="px-4 py-2 text-sm text-slate-600 hover:text-slate-900">매일특가</button>
                                <div className="w-px h-4 bg-slate-200 mx-2"></div>
                                <button onClick={() => handleNav(ViewState.LOGIN)} className="px-5 py-2.5 rounded-full bg-slate-900 text-white text-sm font-bold hover:bg-slate-800">로그인</button>
                            </nav>
                            <button className="md:hidden p-2 text-slate-600" onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}>
                                <Icon name={isMobileMenuOpen ? "X" : "Menu"} />
                            </button>
                        </div>
                    </header>
                    
                    {isMobileMenuOpen && (
                        <div className="fixed inset-0 z-40 bg-white md:hidden pt-20 px-6 animate-fade-in-down">
                            <div className="flex flex-col space-y-4 text-lg font-bold text-slate-600">
                                <button onClick={() => handleNav(ViewState.HOME)} className="flex items-center gap-3 p-3 bg-slate-50 rounded-xl"><Icon name="Home" /> 홈</button>
                                <button onClick={() => handleNav(ViewState.HOSPITALS)} className="flex items-center gap-3 p-3"><Icon name="Search" /> 병원찾기</button>
                                <button onClick={() => handleNav(ViewState.COMMUNITY)} className="flex items-center gap-3 p-3"><Icon name="FileText" /> 커뮤니티</button>
                                <button onClick={() => handleNav(ViewState.DEALS)} className="flex items-center gap-3 p-3"><Icon name="Tag" /> 매일특가</button>
                                <button onClick={() => handleNav(ViewState.LOGIN)} className="mt-4 w-full bg-slate-900 text-white py-4 rounded-xl flex justify-center items-center gap-2"><Icon name="User" /> 로그인</button>
                            </div>
                        </div>
                    )}

                    <main className="flex-grow w-full max-w-4xl mx-auto bg-white min-h-screen shadow-2xl shadow-slate-200/50 md:border-x md:border-slate-50/50 pt-16">
                        {children}
                    </main>

                    <footer className="bg-slate-900 text-slate-400 py-12 px-6 text-sm">
                        <div className="max-w-4xl mx-auto">
                            <div className="flex items-center gap-2 mb-4 text-white">
                                <Icon name="ShieldCheck" className="w-6 h-6 text-blue-500" />
                                <span className="text-xl font-bold">자신있나</span>
                            </div>
                            <p className="text-slate-500 mb-8">대한민국 남성들을 위한 No.1 헬스케어 플랫폼.<br/>검증된 정보와 솔직한 후기로 당신의 자신감을 응원합니다.</p>
                            <div className="border-t border-slate-800 pt-8 text-xs text-slate-500">
                                <p>© Confidence Lab. All rights reserved.</p>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        // --- PAGES ---

        const Home = ({ setView }) => (
            <div className="animate-fade-in">
                <section className="bg-[#0B1120] text-white pt-12 pb-20 px-6 rounded-b-[3rem] text-center md:text-left relative overflow-hidden">
                    <div className="absolute top-0 right-0 w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-[100px] translate-x-1/2 -translate-y-1/2"></div>
                    <div className="relative z-10 max-w-2xl mx-auto">
                        <span className="inline-block bg-slate-800/50 px-4 py-1.5 rounded-full text-blue-300 text-xs font-bold mb-6">
                            ★ 실시간 영수증 인증 후기 12,403건
                        </span>
                        <h1 className="text-4xl md:text-6xl font-black mb-6 leading-tight">
                            남자의 자신감,<br/><span className="text-blue-400">데이터</span>로 증명하다
                        </h1>
                        <p className="text-slate-400 text-lg mb-10">광고 없는 진짜 후기, 검증된 병원 정보만 모았습니다.</p>
                        <div className="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                            <button onClick={() => setView(ViewState.HOSPITALS)} className="bg-blue-600 text-white font-bold py-4 px-8 rounded-2xl flex justify-center items-center gap-2">
                                내 주변 병원 찾기 <Icon name="ArrowRight" size={20}/>
                            </button>
                            <button onClick={() => setView(ViewState.COMMUNITY)} className="bg-slate-800 text-white font-bold py-4 px-8 rounded-2xl">
                                리얼 후기 보기
                            </button>
                        </div>
                    </div>
                </section>
                
                <section className="px-6 -mt-10 relative z-20 mb-12">
                    <div className="bg-white rounded-3xl p-6 shadow-xl border border-slate-100 flex justify-around text-center">
                        <div><p className="text-3xl font-black text-slate-900">98%</p><p className="text-xs text-slate-500">신뢰도</p></div>
                        <div className="w-px bg-slate-100"></div>
                        <div><p className="text-3xl font-black text-slate-900">542+</p><p className="text-xs text-slate-500">제휴 병원</p></div>
                        <div className="w-px bg-slate-100"></div>
                        <div><p className="text-3xl font-black text-slate-900">0건</p><p className="text-xs text-slate-500">허위광고</p></div>
                    </div>
                </section>

                <section className="px-6 py-8">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-black text-slate-900 flex items-center gap-2">오늘의 특가 <Icon name="TrendingUp" className="text-red-500" /></h2>
                        <button onClick={() => setView(ViewState.DEALS)} className="w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center"><Icon name="ChevronRight" /></button>
                    </div>
                    <div className="space-y-4">
                        {MOCK_DEALS.slice(0, 2).map(deal => (
                            <div key={deal.id} onClick={() => setView(ViewState.DEALS)} className="bg-white border border-slate-100 p-6 rounded-3xl shadow-sm cursor-pointer hover:shadow-lg transition-all">
                                <div className="flex justify-between mb-2">
                                    <span className="text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded">{deal.hospitalName}</span>
                                    <span className="text-xs font-bold text-red-500 border border-red-100 px-2 py-1 rounded">D-Day</span>
                                </div>
                                <h3 className="font-bold text-lg mb-4">{deal.title}</h3>
                                <div className="flex justify-between items-end">
                                    <div>
                                        <p className="text-xs text-slate-400 line-through">{deal.originalPrice.toLocaleString()}원</p>
                                        <p className="text-xl font-black text-slate-900">{deal.discountPrice.toLocaleString()}원</p>
                                    </div>
                                    <span className="text-2xl font-black text-red-500">{deal.discountRate}%</span>
                                </div>
                            </div>
                        ))}
                    </div>
                </section>

                <section className="px-6 py-12 bg-slate-50">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-black text-slate-900 flex items-center gap-2">실시간 후기 <Icon name="Shield" className="text-teal-500" /></h2>
                        <button onClick={() => setView(ViewState.COMMUNITY)} className="text-sm font-bold text-slate-500">전체보기</button>
                    </div>
                    <div className="space-y-4">
                        {MOCK_REVIEWS.slice(0, 3).map(review => (
                            <div key={review.id} className="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
                                <div className="flex justify-between mb-2">
                                    <div className="flex items-center gap-2">
                                        <div className="w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center"><Icon name="User" size={14}/></div>
                                        <span className="text-sm font-bold">{review.userId}</span>
                                    </div>
                                    {review.isVerified && <span className="text-[10px] bg-teal-50 text-teal-700 px-2 py-1 rounded font-bold flex items-center gap-1"><Icon name="CheckCircle2" size={10}/> 인증</span>}
                                </div>
                                <p className="text-sm text-slate-600 mb-3 line-clamp-2">{review.content}</p>
                                <div className="flex gap-1 text-yellow-400"><Icon name="Star" size={14} fill="currentColor" /><Icon name="Star" size={14} fill="currentColor" /><Icon name="Star" size={14} fill="currentColor" /><Icon name="Star" size={14} fill="currentColor" /><Icon name="Star" size={14} fill="currentColor" /></div>
                            </div>
                        ))}
                    </div>
                </section>
            </div>
        );

        const Hospitals = () => {
            const [filter, setFilter] = useState('전체');
            const filtered = MOCK_HOSPITALS.filter(h => filter === '전체' || h.categories.includes(filter));
            return (
                <div className="pb-20">
                    <div className="sticky top-16 bg-white z-40 px-5 py-4 border-b border-slate-100">
                        <h1 className="text-2xl font-black mb-4">병원 찾기</h1>
                        <div className="flex gap-2 overflow-x-auto no-scrollbar">
                            {CATEGORIES.map(cat => (
                                <button key={cat} onClick={() => setFilter(cat)} className={`whitespace-nowrap px-4 py-2 rounded-xl text-sm font-bold ${filter === cat ? 'bg-slate-900 text-white' : 'bg-slate-100 text-slate-500'}`}>
                                    {cat}
                                </button>
                            ))}
                        </div>
                    </div>
                    <div className="p-5 space-y-6">
                        {filtered.map(h => <HospitalCard key={h.id} hospital={h} />)}
                    </div>
                </div>
            );
        };

        const Community = () => {
            const [tab, setTab] = useState('REVIEW');
            const [showModal, setShowModal] = useState(false);
            const [posts, setPosts] = useState(MOCK_POSTS_INITIAL);
            
            const handleSubmit = (e) => {
                e.preventDefault();
                setPosts([{id: Date.now(), type: tab, title: '방금 등록된 글', author: '나야나', content: '새로운 글입니다.', date: '방금', views: 0, comments: 0}, ...posts]);
                setShowModal(false);
            };

            return (
                <div className="pb-20 min-h-screen bg-slate-50 relative">
                    <div className="sticky top-16 bg-white z-30 px-5 py-4 border-b border-slate-100">
                        <h1 className="text-2xl font-black mb-4">커뮤니티</h1>
                        <div className="flex bg-slate-100 p-1 rounded-xl">
                            {['REVIEW', 'QNA', 'FREE'].map(t => (
                                <button key={t} onClick={() => setTab(t)} className={`flex-1 py-2 text-sm font-bold rounded-lg ${tab === t ? 'bg-white shadow-sm text-blue-600' : 'text-slate-400'}`}>
                                    {t === 'REVIEW' ? '후기' : t === 'QNA' ? '질문' : '자유'}
                                </button>
                            ))}
                        </div>
                    </div>
                    
                    <div className="p-5 space-y-4">
                        {tab === 'REVIEW' ? MOCK_REVIEWS.map(r => (
                            <div key={r.id} className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                                <div className="flex justify-between mb-3">
                                    <span className="font-bold text-sm">{r.userId}</span>
                                    <span className="text-xs text-slate-400">{r.date}</span>
                                </div>
                                <span className="inline-block bg-blue-50 text-blue-600 text-xs font-bold px-2 py-1 rounded mb-3">{r.treatment}</span>
                                <p className="text-sm text-slate-700 leading-relaxed">{r.content}</p>
                            </div>
                        )) : posts.filter(p => p.type === tab).map(p => (
                            <div key={p.id} className="bg-white p-5 rounded-2xl shadow-sm border border-slate-100">
                                <span className="text-[10px] bg-slate-100 text-slate-500 px-1.5 py-0.5 rounded font-bold mb-2 inline-block">{p.type}</span>
                                <h3 className="font-bold text-slate-900 mb-2">{p.title}</h3>
                                <div className="flex justify-between text-xs text-slate-400">
                                    <span>{p.author}</span>
                                    <span>{p.date}</span>
                                </div>
                            </div>
                        ))}
                    </div>

                    <button onClick={() => setShowModal(true)} className="fixed bottom-6 right-6 bg-slate-900 text-white p-4 rounded-full shadow-xl hover:bg-blue-600 transition-colors">
                        <Icon name="PenLine" />
                    </button>

                    {showModal && (
                        <div className="fixed inset-0 z-50 bg-black/50 flex items-end md:items-center justify-center p-4">
                            <div className="bg-white w-full max-w-lg rounded-3xl p-6 animate-slide-up">
                                <div className="flex justify-between items-center mb-6">
                                    <h3 className="font-bold text-lg">글쓰기</h3>
                                    <button onClick={() => setShowModal(false)}><Icon name="X" /></button>
                                </div>
                                <form onSubmit={handleSubmit} className="space-y-4">
                                    <input type="text" placeholder="제목" className="w-full border-b p-2 font-bold outline-none" required />
                                    <textarea placeholder="내용을 입력하세요" className="w-full h-32 border-none resize-none outline-none" required></textarea>
                                    <button className="w-full bg-slate-900 text-white py-4 rounded-xl font-bold">등록하기</button>
                                </form>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const Deals = () => (
            <div className="pb-20 bg-slate-50 min-h-screen">
                <div className="bg-[#0B1120] text-white pt-10 pb-20 px-8 rounded-b-[2.5rem]">
                    <h1 className="text-3xl font-black mb-2 flex items-center gap-2">오늘의 특가 <Icon name="Gift" className="text-red-400" /></h1>
                    <p className="text-slate-400">검증된 병원들의 시크릿 혜택</p>
                </div>
                <div className="px-5 -mt-10 space-y-6">
                    {MOCK_DEALS.map(deal => (
                        <div key={deal.id} className="bg-white rounded-3xl p-6 shadow-lg relative overflow-hidden border-2 border-dashed border-slate-100">
                            <div className="flex justify-between mb-4">
                                <span className="bg-slate-900 text-white text-[10px] font-bold px-3 py-1 rounded-full">{deal.hospitalName}</span>
                                <span className="text-xs font-bold text-red-500">D-Day</span>
                            </div>
                            <h2 className="text-xl font-bold mb-4">{deal.title}</h2>
                            <div className="bg-slate-50 rounded-xl p-4 flex justify-between items-center mb-4">
                                <div>
                                    <p className="text-xs line-through text-slate-400">{deal.originalPrice.toLocaleString()}원</p>
                                    <p className="text-2xl font-black text-slate-900">{deal.discountPrice.toLocaleString()}원</p>
                                </div>
                                <span className="text-3xl font-black text-red-500">{deal.discountRate}%</span>
                            </div>
                            <button className="w-full bg-blue-600 text-white font-bold py-4 rounded-xl shadow-lg">혜택 받기</button>
                        </div>
                    ))}
                </div>
            </div>
        );

        const Login = ({ setView }) => (
            <div className="min-h-screen bg-white p-6 flex flex-col justify-center">
                <button onClick={() => setView(ViewState.HOME)} className="absolute top-6 left-6 text-slate-400"><Icon name="ArrowLeft" /></button>
                <div className="text-center mb-10">
                    <div className="inline-block p-4 bg-slate-900 rounded-2xl mb-4 text-white"><Icon name="ShieldCheck" size={32} /></div>
                    <h1 className="text-3xl font-black mb-2">자신있나</h1>
                    <p className="text-slate-500">당당한 남자들의 커뮤니티</p>
                </div>
                <div className="space-y-4 mb-8">
                    <input type="text" placeholder="아이디" className="w-full p-4 bg-slate-50 rounded-xl outline-none focus:ring-2 focus:ring-blue-500" />
                    <input type="password" placeholder="비밀번호" className="w-full p-4 bg-slate-50 rounded-xl outline-none focus:ring-2 focus:ring-blue-500" />
                    <button onClick={() => { alert('로그인 성공'); setView(ViewState.HOME); }} className="w-full bg-blue-600 text-white font-bold py-4 rounded-xl shadow-lg">로그인</button>
                </div>
                <button className="w-full bg-[#FEE500] text-[#3c1e1e] font-bold py-4 rounded-xl mb-4">카카오로 3초만에 시작</button>
                <button onClick={() => setView(ViewState.HOME)} className="w-full text-slate-400 text-sm">비회원으로 둘러보기</button>
            </div>
        );

        // --- APP ROOT ---
        const App = () => {
            const [view, setView] = useState(ViewState.HOME);
            
            // 뷰 렌더링
            const renderView = () => {
                switch(view) {
                    case ViewState.HOSPITALS: return <Hospitals />;
                    case ViewState.COMMUNITY: return <Community />;
                    case ViewState.DEALS: return <Deals />;
                    case ViewState.LOGIN: return <Login setView={setView} />;
                    default: return <Home setView={setView} />;
                }
            };

            return <Layout currentView={view} setView={setView}>{renderView()}</Layout>;
        };

        // Render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
